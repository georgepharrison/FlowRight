<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Interface IAsyncContextAwareRule&lt;T&gt; | FlowRight - Result Pattern Library for .NET </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Interface IAsyncContextAwareRule&lt;T&gt; | FlowRight - Result Pattern Library for .NET ">
      
      <meta name="description" content="Defines an asynchronous validation rule that can access validation context for complex validation scenarios. This interface enables context-aware validation with async operations such as database lookups or web service calls.">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="FlowRight">
            FlowRight
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="FlowRight.Validation.Rules.IAsyncContextAwareRule`1">



  <h1 id="FlowRight_Validation_Rules_IAsyncContextAwareRule_1" data-uid="FlowRight.Validation.Rules.IAsyncContextAwareRule`1" class="text-break">
Interface IAsyncContextAwareRule&lt;T&gt;  
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="FlowRight.html">FlowRight</a>.<a class="xref" href="FlowRight.Validation.html">Validation</a>.<a class="xref" href="FlowRight.Validation.Rules.html">Rules</a></dd></dl>
  <dl><dt>Assembly</dt><dd>FlowRight.Validation.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Defines an asynchronous validation rule that can access validation context for complex validation scenarios.
This interface enables context-aware validation with async operations such as database lookups or web service calls.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface IAsyncContextAwareRule&lt;in T&gt;</code></pre>
  </div>



  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>T</code></dt>
    <dd><p>The type of value this rule can validate.</p>
</dd>
  </dl>







  <h2 id="FlowRight_Validation_Rules_IAsyncContextAwareRule_1_examples">Examples</h2>
  <pre><code class="lang-csharp">public class UniqueEmailRule : IAsyncContextAwareRule&lt;string&gt;
{
    public async Task&lt;string?&gt; ValidateAsync(string email, string displayName, IValidationContext context)
    {
        IUserRepository? repository = context.GetService&lt;IUserRepository&gt;();
        if (repository != null)
        {
            bool exists = await repository.EmailExistsAsync(email);
            if (exists)
            {
                return "Email address is already in use";
            }
        }
        return null; // Validation passed
    }
}</code></pre>


  <h2 id="FlowRight_Validation_Rules_IAsyncContextAwareRule_1_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p>
Async context-aware rules enable advanced validation scenarios that require:
<ul><li>Asynchronous operations such as database queries or web service calls</li><li>Access to the root object being validated for cross-property validation</li><li>Integration with external services through dependency injection</li><li>Access to custom data shared between validation rules</li><li>Hierarchical validation with parent-child relationships</li><li>Conditional validation based on previously executed rules</li></ul>

<p>
Async context-aware rules should be used when validation logic requires asynchronous operations
and information beyond the single property value being validated. For simple synchronous validation,
use IContextAwareRule&lt;T&gt; or IRule&lt;T&gt; interfaces.
</p>
</div>


  <h2 class="section" id="methods">Methods
</h2>


  <a id="FlowRight_Validation_Rules_IAsyncContextAwareRule_1_ValidateAsync_" data-uid="FlowRight.Validation.Rules.IAsyncContextAwareRule`1.ValidateAsync*"></a>

  <h3 id="FlowRight_Validation_Rules_IAsyncContextAwareRule_1_ValidateAsync__0_System_String_FlowRight_Validation_Context_IValidationContext_" data-uid="FlowRight.Validation.Rules.IAsyncContextAwareRule`1.ValidateAsync(`0,System.String,FlowRight.Validation.Context.IValidationContext)">
  ValidateAsync(T, string, IValidationContext)
  
  </h3>

  <div class="markdown level1 summary"><p>Asynchronously validates the specified value with access to validation context and returns an error message if validation fails.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">Task&lt;string?&gt; ValidateAsync(T value, string displayName, IValidationContext context)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>value</code> <span class="xref">T</span></dt>
    <dd><p>The value to validate.</p>
</dd>
    <dt><code>displayName</code> <span class="xref">string</span></dt>
    <dd><p>The display name for the property being validated, used in error messages.</p>
</dd>
    <dt><code>context</code> <a class="xref" href="FlowRight.Validation.Context.IValidationContext.html">IValidationContext</a></dt>
    <dd><p>The validation context providing access to root object, services, and custom data.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><span class="xref">Task</span>&lt;<span class="xref">string</span>&gt;</dt>
    <dd><p>A task that represents the asynchronous validation operation. The task result contains
an error message if validation fails; otherwise, null indicating validation passed.</p>
</dd>
  </dl>






  <h4 class="section" id="FlowRight_Validation_Rules_IAsyncContextAwareRule_1_ValidateAsync__0_System_String_FlowRight_Validation_Context_IValidationContext__examples">Examples</h4>
  <pre><code class="lang-csharp">public async Task&lt;string?&gt; ValidateAsync(string value, string displayName, IValidationContext context)
{
    // Access services for async external validation
    IEmailValidationService? emailService = context.GetService&lt;IEmailValidationService&gt;();
    if (emailService != null)
    {
        bool isValid = await emailService.ValidateEmailAsync(value);
        if (!isValid)
        {
            return $"{displayName} failed external validation";
        }
    }

    // Access custom data for configuration
    int maxRetries = context.GetCustomData&lt;int&gt;("MaxRetries");

    return null; // Validation passed
}</code></pre>


  <h4 class="section" id="FlowRight_Validation_Rules_IAsyncContextAwareRule_1_ValidateAsync__0_System_String_FlowRight_Validation_Context_IValidationContext__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This method provides full access to the validation context and supports asynchronous operations,
enabling complex validation scenarios that require external data access or web service calls.
The context parameter should not be null when called by the validation framework.</p>
</div>





</article>

        <div class="contribution d-print-none">
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          FlowRight - Explicit error handling without exceptions
        </div>
      </div>
    </footer>
  </body>
</html>
